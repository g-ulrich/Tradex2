(function(o,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("lightweight-charts")):typeof define=="function"&&define.amd?define(["exports","lightweight-charts"],n):(o=typeof globalThis<"u"?globalThis:o||self,n(o.LollipopSeries={},o.LightweightCharts))})(this,function(o,n){"use strict";var M=Object.defineProperty;var y=(o,n,e)=>n in o?M(o,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[n]=e;var c=(o,n,e)=>(y(o,typeof n!="symbol"?n+"":n,e),e);const e={...n.customSeriesDefaultOptions,lineWidth:2};function x(a){return Math.floor(a*.5)}function b(a,t,i=1,s){const l=Math.round(t*a),h=s?i:Math.round(i*t),d=x(h);return{position:l-d,length:h}}function P(a,t,i){const s=Math.round(i*a),l=Math.round(i*t);return{position:Math.min(s,l),length:Math.abs(l-s)+1}}class m{constructor(){c(this,"_data",null);c(this,"_options",null)}draw(t,i){t.useBitmapCoordinateSpace(s=>this._drawImpl(s,i))}update(t,i){this._data=t,this._options=i}_drawImpl(t,i){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const s=this._options,l=this._data.bars.map(r=>({x:r.x,y:i(r.originalData.value)??0})),h=Math.min(this._options.lineWidth,this._data.barSpacing),d=this._data.barSpacing,p=Math.floor(d/2),v=i(0);for(let r=this._data.visibleRange.from;r<this._data.visibleRange.to;r++){const u=l[r],f=b(u.x,t.horizontalPixelRatio,h),_=P(v??0,u.y,t.verticalPixelRatio);t.context.beginPath(),t.context.fillStyle=s.color,t.context.fillRect(f.position,_.position,f.length,_.length),t.context.arc(u.x*t.horizontalPixelRatio,u.y*t.verticalPixelRatio,p*t.horizontalPixelRatio,0,Math.PI*2),t.context.fill()}}}class g{constructor(){c(this,"_renderer");this._renderer=new m}priceValueBuilder(t){return[0,t.value]}isWhitespace(t){return t.value===void 0}renderer(){return this._renderer}update(t,i){this._renderer.update(t,i)}defaultOptions(){return e}}o.LollipopSeries=g,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
