(function(i,t){typeof exports=="object"&&typeof module<"u"?t(exports):typeof define=="function"&&define.amd?define(["exports"],t):(i=typeof globalThis<"u"?globalThis:i||self,t(i.AnchoredText={}))})(this,function(i){"use strict";var x=Object.defineProperty;var g=(i,t,a)=>t in i?x(i,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[t]=a;var s=(i,t,a)=>(g(i,typeof t!="symbol"?t+"":t,a),a);class t{constructor(e){s(this,"_data");this._data=e}draw(e){e.useMediaCoordinateSpace(n=>{const d=n.context;d.font=this._data.font;const c=d.measureText(this._data.text).width,u=20;let r=u;const l=n.mediaSize.width,p=n.mediaSize.height;switch(this._data.horzAlign){case"right":{r=l-u-c;break}case"middle":{r=l/2-c/2;break}}const _=10,f=this._data.lineHeight;let h=_+f;switch(this._data.vertAlign){case"middle":{h=p/2+f/2;break}case"bottom":{h=p-_;break}}d.fillStyle=this._data.color,d.fillText(this._data.text,r,h)})}}class a{constructor(e){s(this,"_source");this._source=e}update(){}renderer(){return new t(this._source._data)}}class w{constructor(e){s(this,"_paneViews");s(this,"_data");s(this,"requestUpdate");this._data=e,this._paneViews=[new a(this)]}updateAllViews(){this._paneViews.forEach(e=>e.update())}paneViews(){return this._paneViews}attached({requestUpdate:e}){this.requestUpdate=e}detached(){this.requestUpdate=void 0}applyOptions(e){this._data={...this._data,...e},this.requestUpdate&&this.requestUpdate()}}i.AnchoredText=w,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
