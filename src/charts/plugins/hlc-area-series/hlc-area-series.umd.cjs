(function(i,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("lightweight-charts")):typeof define=="function"&&define.amd?define(["exports","lightweight-charts"],o):(i=typeof globalThis<"u"?globalThis:i||self,o(i.HlcAreaSeries={},i.LightweightCharts))})(this,function(i,o){"use strict";var m=Object.defineProperty;var p=(i,o,r)=>o in i?m(i,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[o]=r;var w=(i,o,r)=>(p(i,typeof o!="symbol"?o+"":o,r),r);const r={...o.customSeriesDefaultOptions,highLineColor:"#049981",lowLineColor:"#F23645",closeLineColor:"#878993",areaBottomColor:"rgba(242, 54, 69, 0.2)",areaTopColor:"rgba(4, 153, 129, 0.2)",highLineWidth:2,lowLineWidth:2,closeLineWidth:2};class L{constructor(){w(this,"_data",null);w(this,"_options",null)}draw(e,s){e.useBitmapCoordinateSpace(a=>this._drawImpl(a,s))}update(e,s){this._data=e,this._options=s}_drawImpl(e,s){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const a=this._options,g=this._data.bars.map(l=>({x:l.x*e.horizontalPixelRatio,high:s(l.originalData.high)*e.verticalPixelRatio,low:s(l.originalData.low)*e.verticalPixelRatio,close:s(l.originalData.close)*e.verticalPixelRatio})),t=e.context;t.beginPath();const x=new Path2D,_=new Path2D,c=new Path2D,n=g[this._data.visibleRange.from];x.moveTo(n.x,n.low),_.moveTo(n.x,n.high);for(let l=this._data.visibleRange.from+1;l<this._data.visibleRange.to;l++){const h=g[l];x.lineTo(h.x,h.low),_.lineTo(h.x,h.high)}const d=g[this._data.visibleRange.to-1];c.moveTo(d.x,d.close);for(let l=this._data.visibleRange.to-2;l>=this._data.visibleRange.from;l--){const h=g[l];c.lineTo(h.x,h.close)}const u=new Path2D(_);u.lineTo(d.x,d.close),u.addPath(c),u.lineTo(n.x,n.high),u.closePath(),t.fillStyle=a.areaTopColor,t.fill(u);const f=new Path2D(x);f.lineTo(d.x,d.close),f.addPath(c),f.lineTo(n.x,n.low),f.closePath(),t.fillStyle=a.areaBottomColor,t.fill(f),t.lineJoin="round",t.strokeStyle=a.lowLineColor,t.lineWidth=a.lowLineWidth*e.verticalPixelRatio,t.stroke(x),t.strokeStyle=a.highLineColor,t.lineWidth=a.highLineWidth*e.verticalPixelRatio,t.stroke(_),t.strokeStyle=a.closeLineColor,t.lineWidth=a.closeLineWidth*e.verticalPixelRatio,t.stroke(c)}}class v{constructor(){w(this,"_renderer");this._renderer=new L}priceValueBuilder(e){return[e.low,e.high,e.close]}isWhitespace(e){return e.close===void 0}renderer(){return this._renderer}update(e,s){this._renderer.update(e,s)}defaultOptions(){return r}}i.HLCAreaSeries=v,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
